CREATE TABLE `ALBUM` (
    `ALBUMID` INT NOT NULL,
    `TITLE` NVARCHAR(160) NOT NULL,
    `ARTISTID` INT NOT NULL,
    CONSTRAINT `PK_ALBUM` PRIMARY KEY (`ALBUMID`)
);

CREATE TABLE `ARTIST` (
    `ARTISTID` INT NOT NULL,
    `NAME` NVARCHAR(120),
    CONSTRAINT `PK_ARTIST` PRIMARY KEY (`ARTISTID`)
);

CREATE TABLE `CUSTOMER` (
    `CUSTOMERID` INT NOT NULL,
    `FIRSTNAME` NVARCHAR(40) NOT NULL,
    `LASTNAME` NVARCHAR(20) NOT NULL,
    `COMPANY` NVARCHAR(80),
    `ADDRESS` NVARCHAR(70),
    `CITY` NVARCHAR(40),
    `STATE` NVARCHAR(40),
    `COUNTRY` NVARCHAR(40),
    `POSTALCODE` NVARCHAR(10),
    `PHONE` NVARCHAR(24),
    `FAX` NVARCHAR(24),
    `EMAIL` NVARCHAR(60) NOT NULL,
    `SUPPORTREPID` INT,
    CONSTRAINT `PK_CUSTOMER` PRIMARY KEY (`CUSTOMERID`)
);

CREATE TABLE `EMPLOYEE` (
    `EMPLOYEEID` INT NOT NULL,
    `LASTNAME` NVARCHAR(20) NOT NULL,
    `FIRSTNAME` NVARCHAR(20) NOT NULL,
    `TITLE` NVARCHAR(30),
    `REPORTSTO` INT,
    `BIRTHDATE` DATETIME,
    `HIREDATE` DATETIME,
    `ADDRESS` NVARCHAR(70),
    `CITY` NVARCHAR(40),
    `STATE` NVARCHAR(40),
    `COUNTRY` NVARCHAR(40),
    `POSTALCODE` NVARCHAR(10),
    `PHONE` NVARCHAR(24),
    `FAX` NVARCHAR(24),
    `EMAIL` NVARCHAR(60),
    CONSTRAINT `PK_EMPLOYEE` PRIMARY KEY (`EMPLOYEEID`)
);

CREATE TABLE `GENRE` (
    `GENREID` INT NOT NULL,
    `NAME` NVARCHAR(120),
    CONSTRAINT `PK_GENRE` PRIMARY KEY (`GENREID`)
);

CREATE TABLE `INVOICE` (
    `INVOICEID` INT NOT NULL,
    `CUSTOMERID` INT NOT NULL,
    `INVOICEDATE` DATETIME NOT NULL,
    `BILLINGADDRESS` NVARCHAR(70),
    `BILLINGCITY` NVARCHAR(40),
    `BILLINGSTATE` NVARCHAR(40),
    `BILLINGCOUNTRY` NVARCHAR(40),
    `BILLINGPOSTALCODE` NVARCHAR(10),
    `TOTAL` NUMERIC(10, 2) NOT NULL,
    CONSTRAINT `PK_INVOICE` PRIMARY KEY (`INVOICEID`)
);

CREATE TABLE `INVOICELINE` (
    `INVOICELINEID` INT NOT NULL,
    `INVOICEID` INT NOT NULL,
    `TRACKID` INT NOT NULL,
    `UNITPRICE` NUMERIC(10, 2) NOT NULL,
    `QUANTITY` INT NOT NULL,
    CONSTRAINT `PK_INVOICELINE` PRIMARY KEY (`INVOICELINEID`)
);

CREATE TABLE `MEDIATYPE` (
    `MEDIATYPEID` INT NOT NULL,
    `NAME` NVARCHAR(120),
    CONSTRAINT `PK_MEDIATYPE` PRIMARY KEY (`MEDIATYPEID`)
);

CREATE TABLE `PLAYLIST` (
    `PLAYLISTID` INT NOT NULL,
    `NAME` NVARCHAR(120),
    CONSTRAINT `PK_PLAYLIST` PRIMARY KEY (`PLAYLISTID`)
);

CREATE TABLE `PLAYLISTTRACK` (
    `PLAYLISTID` INT NOT NULL,
    `TRACKID` INT NOT NULL,
    CONSTRAINT `PK_PLAYLISTTRACK` PRIMARY KEY (`PLAYLISTID`, `TRACKID`)
);

CREATE TABLE `TRACK` (
    `TRACKID` INT NOT NULL,
    `NAME` NVARCHAR(200) NOT NULL,
    `ALBUMID` INT,
    `MEDIATYPEID` INT NOT NULL,
    `GENREID` INT,
    `COMPOSER` NVARCHAR(220),
    `MILLISECONDS` INT NOT NULL,
    `BYTES` INT,
    `UNITPRICE` NUMERIC(10, 2) NOT NULL,
    CONSTRAINT `PK_TRACK` PRIMARY KEY (`TRACKID`)
);

ALTER TABLE `Album` ADD CONSTRAINT `FK_AlbumArtistId`
    FOREIGN KEY (`ArtistId`) REFERENCES `Artist` (`ArtistId`) ON DELETE NO ACTION ON UPDATE NO ACTION;

CREATE INDEX `IFK_AlbumArtistId` ON `Album` (`ArtistId`);

ALTER TABLE `Customer` ADD CONSTRAINT `FK_CustomerSupportRepId`
    FOREIGN KEY (`SupportRepId`) REFERENCES `Employee` (`EmployeeId`) ON DELETE NO ACTION ON UPDATE NO ACTION;

CREATE INDEX `IFK_CustomerSupportRepId` ON `Customer` (`SupportRepId`);

ALTER TABLE `Employee` ADD CONSTRAINT `FK_EmployeeReportsTo`
    FOREIGN KEY (`ReportsTo`) REFERENCES `Employee` (`EmployeeId`) ON DELETE NO ACTION ON UPDATE NO ACTION;

CREATE INDEX `IFK_EmployeeReportsTo` ON `Employee` (`ReportsTo`);

ALTER TABLE `Invoice` ADD CONSTRAINT `FK_InvoiceCustomerId`
    FOREIGN KEY (`CustomerId`) REFERENCES `Customer` (`CustomerId`) ON DELETE NO ACTION ON UPDATE NO ACTION;

CREATE INDEX `IFK_InvoiceCustomerId` ON `Invoice` (`CustomerId`);

ALTER TABLE `InvoiceLine` ADD CONSTRAINT `FK_InvoiceLineInvoiceId`
    FOREIGN KEY (`InvoiceId`) REFERENCES `Invoice` (`InvoiceId`) ON DELETE NO ACTION ON UPDATE NO ACTION;

CREATE INDEX `IFK_InvoiceLineInvoiceId` ON `InvoiceLine` (`InvoiceId`);

ALTER TABLE `InvoiceLine` ADD CONSTRAINT `FK_InvoiceLineTrackId`
    FOREIGN KEY (`TrackId`) REFERENCES `Track` (`TrackId`) ON DELETE NO ACTION ON UPDATE NO ACTION;

CREATE INDEX `IFK_InvoiceLineTrackId` ON `InvoiceLine` (`TrackId`);

ALTER TABLE `PlaylistTrack` ADD CONSTRAINT `FK_PlaylistTrackPlaylistId`
    FOREIGN KEY (`PlaylistId`) REFERENCES `Playlist` (`PlaylistId`) ON DELETE NO ACTION ON UPDATE NO ACTION;

CREATE INDEX `IFK_PlaylistTrackPlaylistId` ON `PlaylistTrack` (`PlaylistId`);

ALTER TABLE `PlaylistTrack` ADD CONSTRAINT `FK_PlaylistTrackTrackId`
    FOREIGN KEY (`TrackId`) REFERENCES `Track` (`TrackId`) ON DELETE NO ACTION ON UPDATE NO ACTION;

CREATE INDEX `IFK_PlaylistTrackTrackId` ON `PlaylistTrack` (`TrackId`);

ALTER TABLE `Track` ADD CONSTRAINT `FK_TrackAlbumId`
    FOREIGN KEY (`AlbumId`) REFERENCES `Album` (`AlbumId`) ON DELETE NO ACTION ON UPDATE NO ACTION;

CREATE INDEX `IFK_TrackAlbumId` ON `Track` (`AlbumId`);

ALTER TABLE `Track` ADD CONSTRAINT `FK_TrackGenreId`
    FOREIGN KEY (`GenreId`) REFERENCES `Genre` (`GenreId`) ON DELETE NO ACTION ON UPDATE NO ACTION;

CREATE INDEX `IFK_TrackGenreId` ON `Track` (`GenreId`);

ALTER TABLE `Track` ADD CONSTRAINT `FK_TrackMediaTypeId`
    FOREIGN KEY (`MediaTypeId`) REFERENCES `MediaType` (`MediaTypeId`) ON DELETE NO ACTION ON UPDATE NO ACTION;

CREATE INDEX `IFK_TrackMediaTypeId` ON `Track` (`MediaTypeId`);
